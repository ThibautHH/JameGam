[gd_scene load_steps=17 format=3 uid="uid://7vbn4es3hxe7"]

[ext_resource type="Script" path="res://scripts/game.gd" id="1_xtrjf"]
[ext_resource type="Texture2D" uid="uid://bt0mykalwcj1r" path="res://assets/tiles/atlas.png" id="2_dc44s"]
[ext_resource type="Texture2D" uid="uid://dai8srkt84aqc" path="res://assets/units/atlas.png" id="3_j7hd8"]
[ext_resource type="Texture2D" uid="uid://bqlsj77rv25ce" path="res://assets/overlay/atlas.png" id="4_eqmcd"]
[ext_resource type="Theme" uid="uid://b6jvf3edqsin" path="res://themes/buttonTheme.tres" id="5_ldy4f"]
[ext_resource type="Texture2D" uid="uid://cvj5mi7i0vnf3" path="res://assets/menu/gold-coins-small.png" id="6_as5f0"]
[ext_resource type="Script" path="res://scripts/inv_bar.gd" id="6_h4uw1"]
[ext_resource type="Texture2D" uid="uid://6ubeg6oyv4vn" path="res://assets/menu/ball-green.png" id="6_trw51"]
[ext_resource type="Texture2D" uid="uid://cjikdxufxneb5" path="res://assets/menu/book5.png" id="7_036mw"]
[ext_resource type="Texture2D" uid="uid://b5mhfuuu3du20" path="res://assets/menu/axe.png" id="8_8ouop"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_Biomes"]
resource_name = "Biomes"
texture = ExtResource("2_dc44s")
texture_region_size = Vector2i(72, 72)
0:0/0 = 0
0:0/0/custom_data_0 = 2
0:0/0/custom_data_2 = "cave"
0:0/0/custom_data_3 = [{
"description": "a cave"
}]
1:0/0 = 0
1:0/0/custom_data_0 = 2
1:0/0/custom_data_2 = "mountain"
1:0/0/custom_data_3 = [{
"description": "a cave"
}]
2:0/0 = 0
2:0/0/custom_data_0 = 1
2:0/0/custom_data_2 = "desert"
2:0/0/custom_data_3 = [{
"description": "a cave"
}]
3:0/0 = 0
3:0/0/custom_data_0 = 2
3:0/0/custom_data_2 = "desertHill"
3:0/0/custom_data_3 = [{
"description": "a cave"
}]
4:0/0 = 0
4:0/0/custom_data_0 = 1
4:0/0/custom_data_2 = "oasis"
4:0/0/custom_data_3 = [{
"description": "a cave"
}]
0:1/0 = 0
0:1/0/custom_data_0 = 1
0:1/0/custom_data_2 = "tent"
0:1/0/custom_data_3 = [{
"description": "a cave"
}]
1:1/0 = 0
1:1/0/custom_data_0 = 2
1:1/0/custom_data_2 = "grass"
1:1/0/custom_data_3 = [{
"description": "a cave"
}]
2:1/0 = 0
2:1/0/custom_data_0 = 2
2:1/0/custom_data_2 = "hill"
2:1/0/custom_data_3 = [{
"description": "a cave"
}]
3:1/0 = 0
3:1/0/custom_data_0 = 2
3:1/0/custom_data_2 = "forest"
3:1/0/custom_data_3 = [{
"description": "a cave"
}]
4:1/0 = 0
4:1/0/custom_data_0 = 1
4:1/0/custom_data_2 = "grass"
4:1/0/custom_data_3 = [{
"description": "a cave"
}]
0:2/0 = 0
0:2/0/custom_data_0 = 2
0:2/0/custom_data_2 = "hill"
0:2/0/custom_data_3 = [{
"description": "a cave"
}]
1:2/0 = 0
1:2/0/custom_data_0 = 1
1:2/0/custom_data_2 = "house"
1:2/0/custom_data_3 = [{
"description": "a cave"
}]
2:2/0 = 0
2:2/0/custom_data_0 = 2
2:2/0/custom_data_2 = "cis"
2:2/0/custom_data_3 = [{
"description": "a cave"
}]
3:2/0 = 0
3:2/0/custom_data_0 = 2
3:2/0/custom_data_2 = "zear"
3:2/0/custom_data_3 = [{
"description": "a cave"
}]
4:2/0 = 0
4:2/0/custom_data_0 = 2
4:2/0/custom_data_2 = "ezar"
4:2/0/custom_data_3 = [{
"description": "a cave"
}]
0:3/0 = 0
0:3/0/custom_data_0 = 2
0:3/0/custom_data_2 = "ezar"
0:3/0/custom_data_3 = [{
"description": "a cave"
}]
1:3/0 = 0
1:3/0/custom_data_0 = 1
1:3/0/custom_data_2 = "ezra"
1:3/0/custom_data_3 = [{
"description": "a cave"
}]
2:3/0 = 0
2:3/0/custom_data_0 = 1
2:3/0/custom_data_2 = "ezar"
2:3/0/custom_data_3 = [{
"description": "a cave"
}]
3:3/0 = 0
3:3/0/custom_data_0 = 2
3:3/0/custom_data_2 = "ezar"
3:3/0/custom_data_3 = [{
"description": "a cave"
}]
4:3/0 = 0
4:3/0/custom_data_0 = 2
4:3/0/custom_data_2 = "zear"
4:3/0/custom_data_3 = [{
"description": "a cave"
}]
0:4/0 = 0
0:4/0/custom_data_0 = 1
0:4/0/custom_data_2 = "zera"
0:4/0/custom_data_3 = [{
"description": "a cave"
}]
1:4/0 = 0
1:4/0/custom_data_0 = 2
1:4/0/custom_data_2 = "zaer"
1:4/0/custom_data_3 = [{
"description": "a cave"
}]
2:4/0 = 0
2:4/0/custom_data_0 = 1
2:4/0/custom_data_2 = "zear"
2:4/0/custom_data_3 = [{
"description": "a cave"
}]
3:4/0 = 0
3:4/0/custom_data_0 = 2
3:4/0/custom_data_2 = "azer"
3:4/0/custom_data_3 = [{
"description": "a cave"
}]
4:4/0 = 0
4:4/0/custom_data_0 = 1
4:4/0/custom_data_2 = "zear"
4:4/0/custom_data_3 = [{
"description": "a cave"
}]
0:5/0 = 0
0:5/0/custom_data_1 = true
1:5/0 = 0
1:5/0/custom_data_1 = true

[sub_resource type="TileSet" id="Ground"]
resource_name = "Ground"
tile_shape = 3
tile_offset_axis = 1
tile_size = Vector2i(72, 72)
custom_data_layer_0/name = "movement_cost"
custom_data_layer_0/type = 2
custom_data_layer_1/name = "impassable"
custom_data_layer_1/type = 1
custom_data_layer_2/name = "flavor_text"
custom_data_layer_2/type = 4
custom_data_layer_3/name = "events"
custom_data_layer_3/type = 28
sources/0 = SubResource("TileSetAtlasSource_Biomes")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_we8m3"]
texture = ExtResource("3_j7hd8")
texture_region_size = Vector2i(72, 72)
0:0/0 = 0
0:0/0/custom_data_0 = "adept"
0:0/0/custom_data_1 = "looks like a beggar"
1:0/0 = 0
1:0/0/custom_data_0 = "berserk"
1:0/0/custom_data_1 = "an angry looking dwarf"
2:0/0 = 0
2:0/0/custom_data_0 = "boat"
2:0/0/custom_data_1 = "a cool looking boat"
0:1/0 = 0
0:1/0/custom_data_0 = "dragon"
0:1/0/custom_data_1 = "does this guy breathe fire ?"
1:1/0 = 0
1:1/0/custom_data_0 = "troll"
1:1/0/custom_data_1 = "uncivilised creature"
2:1/0 = 0
2:1/0/custom_data_0 = "ogre"
2:1/0/custom_data_1 = "ughhh, what an ugly looking creature"
0:2/0 = 0
0:2/0/custom_data_0 = "peasant"
0:2/0/custom_data_1 = "a farmer ..."
1:2/0 = 0
1:2/0/custom_data_0 = "scorpion"
1:2/0/custom_data_1 = "this sneaky bastard looks dangerous"

[sub_resource type="TileSet" id="Entities"]
resource_name = "Entities"
tile_shape = 3
tile_offset_axis = 1
tile_size = Vector2i(72, 72)
custom_data_layer_0/name = "type"
custom_data_layer_0/type = 4
custom_data_layer_1/name = "flavor_text"
custom_data_layer_1/type = 4
sources/0 = SubResource("TileSetAtlasSource_we8m3")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_Overlays"]
texture = ExtResource("4_eqmcd")
texture_region_size = Vector2i(72, 72)
0:0/0 = 0
1:0/0 = 0
0:1/0 = 0
1:1/0 = 0
0:2/0 = 0
1:2/0 = 0
0:3/0 = 0
1:3/0 = 0
0:4/0 = 0
1:4/0 = 0

[sub_resource type="TileSet" id="Overlays"]
resource_name = "Overlays"
tile_shape = 3
tile_offset_axis = 1
tile_size = Vector2i(72, 72)
sources/0 = SubResource("TileSetAtlasSource_Overlays")

[node name="Root" type="Node2D" node_paths=PackedStringArray("ground_layer", "entity_layer", "ui_layer", "events")]
script = ExtResource("1_xtrjf")
ground_layer = NodePath("Ground Layer")
entity_layer = NodePath("Entity Layer")
ui_layer = NodePath("UI Layer")
events = NodePath("GUI/events")

[node name="Ground Layer" type="TileMapLayer" parent="."]
tile_set = SubResource("Ground")

[node name="Entity Layer" type="TileMapLayer" parent="."]
tile_set = SubResource("Entities")

[node name="UI Layer" type="TileMapLayer" parent="."]
tile_set = SubResource("Overlays")

[node name="GUI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_left = 1567.0
offset_top = 31.0
offset_right = 1607.0
offset_bottom = 71.0

[node name="events" type="Node" parent="GUI"]

[node name="tile event" type="Label" parent="GUI"]
layout_mode = 0
offset_left = 121.0
offset_top = 280.0
offset_right = 202.0
offset_bottom = 303.0
text = "tile event :"

[node name="tile description" type="Label" parent="GUI"]
layout_mode = 0
offset_left = 200.0
offset_top = 50.0
offset_right = 240.0
offset_bottom = 73.0

[node name="entity description" type="Label" parent="GUI"]
layout_mode = 0
offset_left = 190.0
offset_top = 183.0
offset_right = 230.0
offset_bottom = 206.0

[node name="move to tile" type="Button" parent="GUI"]
layout_mode = 0
offset_left = 135.0
offset_top = 884.0
offset_right = 227.0
offset_bottom = 911.0
scale = Vector2(2, 2)
theme = ExtResource("5_ldy4f")
text = "move to tile"

[node name="invBar" type="Node" parent="GUI"]
script = ExtResource("6_h4uw1")

[node name="evil" type="Label" parent="GUI/invBar"]
offset_left = 136.0
offset_top = 12.0
offset_right = 194.0
offset_bottom = 35.0
text = "0"
uppercase = true

[node name="Sprite2D" type="Sprite2D" parent="GUI/invBar/evil"]
position = Vector2(-24, 9)
texture = ExtResource("7_036mw")

[node name="strenght" type="Label" parent="GUI/invBar"]
offset_left = 204.0
offset_top = 12.0
offset_right = 262.0
offset_bottom = 35.0
text = "0"
uppercase = true

[node name="Sprite2D" type="Sprite2D" parent="GUI/invBar/strenght"]
position = Vector2(-23, 7)
texture = ExtResource("8_8ouop")

[node name="gold" type="Label" parent="GUI/invBar"]
offset_left = 56.0
offset_top = 11.0
offset_right = 114.0
offset_bottom = 34.0
text = "0"
uppercase = true

[node name="Sprite2D" type="Sprite2D" parent="GUI/invBar/gold"]
position = Vector2(-21, 10)
texture = ExtResource("6_as5f0")

[node name="energy" type="Label" parent="GUI/invBar"]
offset_left = 268.0
offset_top = 13.0
offset_right = 326.0
offset_bottom = 36.0
text = "0"
uppercase = true

[node name="Sprite2D" type="Sprite2D" parent="GUI/invBar/energy"]
position = Vector2(-21, 10)
texture = ExtResource("6_trw51")

[node name="updateDisplay" type="Timer" parent="GUI/invBar"]
autostart = true

[connection signal="button_up" from="GUI/move to tile" to="." method="_on_move_to_tile_button_up"]
[connection signal="timeout" from="GUI/invBar/updateDisplay" to="GUI/invBar" method="_on_update_display_timeout"]
